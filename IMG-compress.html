<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online image compression tool. Reduce image file size while maintaining quality for faster websites and storage.">
    <meta name="keywords" content="image compression, optimize images, reduce file size, image optimizer, web performance">
    <title>Compressify - Smart Image Compression Tool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --success: #4cc9f0;
            --border-radius: 12px;
            --border-radius-sm: 8px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --box-shadow-lg: 0 15px 40px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --gradient: linear-gradient(135deg, #4361ee 0%, #7209b7 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7ff 0%, #f0f2ff 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: white;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 800;
            color: var(--dark);
        }

        .logo-text span {
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            font-size: 16px;
            transition: var(--transition);
            position: relative;
            padding: 5px 0;
        }

        nav a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 3px;
            bottom: 0;
            left: 0;
            background: var(--gradient);
            transition: var(--transition);
            border-radius: 10px;
        }

        nav a:hover {
            color: var(--primary);
        }

        nav a:hover:after {
            width: 100%;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--dark);
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background-color: var(--light-gray);
            transition: var(--transition);
        }

        .mobile-menu-btn:hover {
            background-color: #dbe4ff;
        }

        .hero {
            padding: 80px 0 60px;
            text-align: center;
        }

        .hero h1 {
            font-size: 3.2rem;
            margin-bottom: 20px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto 40px;
        }

        .compression-tool {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-lg);
            padding: 40px;
            margin-bottom: 60px;
            position: relative;
            overflow: hidden;
        }

        .tool-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        @media (max-width: 992px) {
            .tool-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }

        .upload-area {
            border: 2px dashed #c1c8ff;
            border-radius: var(--border-radius);
            padding: 50px 30px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            background-color: #fafbff;
            position: relative;
            overflow: hidden;
        }

        .upload-area:hover {
            border-color: var(--primary);
            background-color: #f0f4ff;
            transform: translateY(-5px);
        }

        .upload-area.active {
            border-color: var(--primary);
            background-color: #e6f2ff;
        }

        .upload-icon {
            font-size: 60px;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .upload-area h3 {
            margin-bottom: 15px;
            color: var(--dark);
        }

        .upload-area p {
            margin-bottom: 20px;
            color: var(--gray);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--gradient);
            color: white;
            padding: 14px 28px;
            border: none;
            border-radius: var(--border-radius-sm);
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            box-shadow: none;
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .btn-sm {
            padding: 10px 20px;
            font-size: 14px;
        }

        .settings-panel {
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
        }

        .settings-panel h3 {
            margin-bottom: 25px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-panel h3 i {
            color: var(--primary);
        }

        .setting-group {
            margin-bottom: 25px;
        }

        .setting-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark);
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .slider {
            flex: 1;
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: #d1d5db;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: var(--transition);
        }

        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .slider-value {
            font-weight: 700;
            min-width: 50px;
            text-align: center;
            background: var(--primary);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
        }

        .compression-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 14px;
            color: var(--gray);
        }

        .preview-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .preview-box {
            border: 1px solid #e5e7eb;
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            background: white;
            transition: var(--transition);
        }

        .preview-box:hover {
            box-shadow: var(--box-shadow);
        }

        .preview-box h4 {
            margin-bottom: 15px;
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .image-preview {
            max-width: 100%;
            max-height: 200px;
            margin: 0 auto;
            display: block;
            border-radius: var(--border-radius-sm);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .file-info {
            margin-top: 15px;
            font-size: 14px;
            color: var(--gray);
            background: var(--light-gray);
            padding: 10px;
            border-radius: var(--border-radius-sm);
        }

        .file-info strong {
            color: var(--dark);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .action-buttons .btn {
            flex: 1;
            text-align: center;
            justify-content: center;
        }

        .ad-container {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin: 40px 0;
            text-align: center;
            min-height: 280px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed var(--light-gray);
            transition: var(--transition);
        }

        .ad-container:hover {
            border-color: var(--primary);
        }

        .ad-label {
            font-size: 0.8rem;
            color: var(--gray);
            text-transform: uppercase;
            margin-bottom: 15px;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .features {
            padding: 80px 0;
            background-color: white;
        }

        .section-title {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-title h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .section-title p {
            color: var(--gray);
            max-width: 600px;
            margin: 0 auto;
            font-size: 1.1rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .feature-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            transition: var(--transition);
            border: 1px solid #e6e9ff;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--box-shadow-lg);
        }

        .feature-icon {
            width: 70px;
            height: 70px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: white;
            font-size: 28px;
        }

        .feature-card h3 {
            margin-bottom: 15px;
            color: var(--dark);
        }

        .feature-card p {
            color: var(--gray);
        }

        footer {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            color: white;
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            font-size: 1.3rem;
            margin-bottom: 25px;
            color: white;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 12px;
        }

        .footer-column a {
            color: #cbd5e0;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-column a:hover {
            color: white;
            transform: translateX(5px);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #4a5568;
            color: #a0aec0;
            font-size: 0.9rem;
        }

        .hidden {
            display: none;
        }

        .compression-info {
            background: linear-gradient(135deg, #e6f2ff 0%, #e0f7fa 100%);
            border-left: 4px solid var(--primary);
            padding: 20px;
            margin-top: 25px;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .compression-info h4 {
            margin-bottom: 10px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .compression-info p {
            color: var(--gray);
            font-size: 0.95rem;
        }

        .stats-container {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            text-align: center;
        }

        .stat {
            padding: 15px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                gap: 20px;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .mobile-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .nav-menu {
                display: none;
                width: 100%;
                text-align: center;
                margin-top: 20px;
            }
            
            .nav-menu.active {
                display: block;
            }
            
            .nav-menu ul {
                flex-direction: column;
                gap: 15px;
            }

            .compression-tool {
                padding: 25px;
            }

            .upload-area {
                padding: 30px 20px;
            }

            .stats-container {
                flex-direction: column;
                gap: 10px;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .section-title h2 {
                font-size: 1.8rem;
            }
            
            .tool-container {
                gap: 20px;
            }
            
            .settings-panel {
                padding: 20px;
            }
        }

        /* Animation for file upload */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Progress bar */
        .progress-container {
            width: 100%;
            height: 8px;
            background-color: var(--light-gray);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
            display: none;
        }

        .progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 4px;
            width: 0%;
            transition: width 0.4s ease;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-compress-alt"></i>
                    </div>
                    <div class="logo-text">Compress<span>ify</span></div>
                </a>
                <button class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
                <nav class="nav-menu">
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#how-it-works">How It Works</a></li>
                        <li><a href="#pricing">Pricing</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="container">
            <h1>Optimize Your Images in Seconds</h1>
            <p>Reduce image file size by up to 80% while maintaining visual quality. Perfect for websites, social media, and storage optimization.</p>
            <div class="stats-container">
                <div class="stat">
                    <div class="stat-value">85%</div>
                    <div class="stat-label">Average Size Reduction</div>
                </div>
                <div class="stat">
                    <div class="stat-value">10K+</div>
                    <div class="stat-label">Images Compressed</div>
                </div>
                <div class="stat">
                    <div class="stat-value">100%</div>
                    <div class="stat-label">Privacy Guaranteed</div>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <!-- Ad Space 1 -->
        <div class="ad-container">
            <div>
                <div class="ad-label">Advertisement</div>
                <!-- Replace with your Google AdSense code -->
                <div id="ad-unit-1">
                    <p>Ad Space (320x100)</p>
                    <small>ca-app-pub-8778939321509511/8780353237</small>
                </div>
            </div>
        </div>

        <section class="compression-tool">
            <div class="tool-container">
                <div class="upload-section">
                    <div class="upload-area" id="dropArea">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <h3>Upload Your Image</h3>
                        <p>Drag & Drop your image here or click to browse</p>
                        <input type="file" id="fileInput" accept="image/*" class="hidden">
                        <button class="btn" id="browseBtn">
                            <i class="fas fa-folder-open"></i> Browse Files
                        </button>
                        <p class="file-types">Supports: JPG, PNG, GIF, WebP, SVG</p>
                    </div>
                    
                    <div class="progress-container" id="progressContainer">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    
                    <div class="compression-info">
                        <h4><i class="fas fa-info-circle"></i> How Image Compression Works</h4>
                        <p>Our tool uses advanced algorithms to reduce file size by optimizing image data. Higher compression levels result in smaller files but may slightly reduce quality. For web use, we recommend medium compression for the best balance.</p>
                    </div>
                </div>
                
                <div class="settings-section">
                    <div class="settings-panel">
                        <h3><i class="fas fa-sliders-h"></i> Compression Settings</h3>
                        
                        <div class="setting-group">
                            <label for="compressionLevel">Compression Level</label>
                            <div class="slider-container">
                                <input type="range" min="0" max="100" value="70" class="slider" id="compressionLevel">
                                <span class="slider-value" id="compressionValue">70%</span>
                            </div>
                            <div class="compression-labels">
                                <span>Smaller File</span>
                                <span>Better Quality</span>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <label for="outputFormat">Output Format</label>
                            <select id="outputFormat" class="btn-outline" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #d1d5db;">
                                <option value="original">Same as original</option>
                                <option value="jpeg">JPEG</option>
                                <option value="png">PNG</option>
                                <option value="webp">WebP (Recommended)</option>
                            </select>
                        </div>
                        
                        <div class="preview-container">
                            <div class="preview-box">
                                <h4><i class="fas fa-image"></i> Original Image</h4>
                                <div id="originalPreview">
                                    <p>No image selected</p>
                                </div>
                                <div class="file-info" id="originalInfo"></div>
                            </div>
                            
                            <div class="preview-box">
                                <h4><i class="fas fa-file-archive"></i> Compressed Image</h4>
                                <div id="compressedPreview">
                                    <p>Compressed image will appear here</p>
                                </div>
                                <div class="file-info" id="compressedInfo"></div>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn" id="compressBtn" disabled>
                                <i class="fas fa-compress-arrows-alt"></i> Compress Image
                            </button>
                            <button class="btn btn-outline" id="downloadBtn" disabled>
                                <i class="fas fa-download"></i> Download
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ad Space 2 -->
        <div class="ad-container">
            <div>
                <div class="ad-label">Advertisement</div>
                <!-- Replace with your Google AdSense code -->
                <div id="ad-unit-2">
                    <p>Ad Space (728x90)</p>
                    <small>ca-app-pub-8778939321509511/6154189895</small>
                </div>
            </div>
        </div>

        <section class="features" id="features">
            <div class="section-title">
                <h2>Why Choose Our Image Compressor</h2>
                <p>Fast, secure, and efficient image optimization for all your needs</p>
            </div>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>Lightning Fast</h3>
                    <p>Compress images in seconds with our optimized processing algorithms.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h3>Secure & Private</h3>
                    <p>Your images are processed in your browser and never uploaded to our servers.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3>Fully Responsive</h3>
                    <p>Works perfectly on all devices - desktop, tablet, and mobile.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Smart Optimization</h3>
                    <p>Intelligent algorithms that find the perfect balance between size and quality.</p>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Compressify</h3>
                    <p>The ultimate tool for optimizing your images for web and storage.</p>
                </div>
                
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#features"><i class="fas fa-chevron-right"></i> Features</a></li>
                        <li><a href="#how-it-works"><i class="fas fa-chevron-right"></i> How It Works</a></li>
                        <li><a href="#pricing"><i class="fas fa-chevron-right"></i> Pricing</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Terms of Service</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Cookie Policy</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Contact</h3>
                    <ul>
                        <li><a href="mailto:support@compressify.com"><i class="fas fa-chevron-right"></i> support@compressify.com</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Feedback</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Report Issue</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Compressify. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // DOM Elements
        const fileInput = document.getElementById('fileInput');
        const browseBtn = document.getElementById('browseBtn');
        const dropArea = document.getElementById('dropArea');
        const compressionLevel = document.getElementById('compressionLevel');
        const compressionValue = document.getElementById('compressionValue');
        const compressBtn = document.getElementById('compressBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const originalPreview = document.getElementById('originalPreview');
        const compressedPreview = document.getElementById('compressedPreview');
        const originalInfo = document.getElementById('originalInfo');
        const compressedInfo = document.getElementById('compressedInfo');
        const outputFormat = document.getElementById('outputFormat');
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navMenu = document.querySelector('.nav-menu');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');

        // Variables
        let originalImage = null;
        let compressedImageUrl = null;

        // Event Listeners
        browseBtn.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', handleFileSelect);
        compressionLevel.addEventListener('input', updateCompressionValue);
        compressBtn.addEventListener('click', compressImage);
        downloadBtn.addEventListener('click', downloadImage);
        mobileMenuBtn.addEventListener('click', toggleMobileMenu);

        // Drag and Drop functionality
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            dropArea.addEventListener(eventName, highlight, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, unhighlight, false);
        });

        function highlight() {
            dropArea.classList.add('active');
            dropArea.style.borderColor = '#4361ee';
            dropArea.style.backgroundColor = '#f0f4ff';
        }

        function unhighlight() {
            dropArea.classList.remove('active');
            dropArea.style.borderColor = '#c1c8ff';
            dropArea.style.backgroundColor = '#fafbff';
        }

        dropArea.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            handleFiles(files);
        }

        function handleFileSelect(e) {
            const files = e.target.files;
            handleFiles(files);
        }

        function handleFiles(files) {
            if (files.length > 0) {
                const file = files[0];
                if (file.type.match('image.*')) {
                    displayOriginalImage(file);
                } else {
                    alert('Please select a valid image file (JPG, PNG, GIF, WebP, SVG).');
                }
            }
        }

        function displayOriginalImage(file) {
            const reader = new FileReader();
            
            reader.onload = function(e) {
                originalImage = new Image();
                originalImage.src = e.target.result;
                
                originalImage.onload = function() {
                    originalPreview.innerHTML = '';
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.className = 'image-preview';
                    originalPreview.appendChild(img);
                    
                    // Store file size for later calculation
                    originalImage.fileSize = file.size;
                    
                    // Display file info
                    const fileSize = (file.size / 1024).toFixed(2);
                    originalInfo.innerHTML = `<strong>Size:</strong> ${fileSize} KB | <strong>Dimensions:</strong> ${originalImage.width} × ${originalImage.height}`;
                    
                    // Enable compress button
                    compressBtn.disabled = false;
                    
                    // Reset compressed preview
                    compressedPreview.innerHTML = '<p>Compressed image will appear here</p>';
                    compressedInfo.textContent = '';
                    downloadBtn.disabled = true;
                };
            };
            
            reader.readAsDataURL(file);
        }

        function updateCompressionValue() {
            compressionValue.textContent = `${compressionLevel.value}%`;
        }

        function compressImage() {
            if (!originalImage) return;
            
            // Show progress bar
            progressContainer.style.display = 'block';
            progressBar.style.width = '0%';
            
            // Show loading state
            compressedPreview.innerHTML = '<p><i class="fas fa-spinner fa-spin"></i> Compressing... Please wait.</p>';
            
            // Simulate compression process with progress
            let progress = 0;
            const interval = setInterval(() => {
                progress += 5;
                progressBar.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    
                    // Create a canvas to manipulate the image
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    // Set canvas dimensions to match the image
                    canvas.width = originalImage.width;
                    canvas.height = originalImage.height;
                    
                    // Draw the image on the canvas
                    ctx.drawImage(originalImage, 0, 0);
                    
                    // Get the selected output format
                    let format = outputFormat.value;
                    if (format === 'original') {
                        // In a real implementation, you would detect the original format
                        format = 'jpeg';
                    }
                    
                    // Calculate quality based on compression level (0-1)
                    const quality = 1 - (compressionLevel.value / 100);
                    
                    // Convert canvas to data URL with specified quality
                    compressedImageUrl = canvas.toDataURL(`image/${format}`, quality);
                    
                    // Display compressed image
                    compressedPreview.innerHTML = '';
                    const img = document.createElement('img');
                    img.src = compressedImageUrl;
                    img.className = 'image-preview';
                    compressedPreview.appendChild(img);
                    
                    // Calculate and display file size info
                    const fileSize = calculateFileSize(compressedImageUrl);
                    const originalSizeKB = originalImage.fileSize / 1024;
                    const compressionRatio = ((1 - (fileSize / originalSizeKB)) * 100).toFixed(1);
                    compressedInfo.innerHTML = `<strong>Size:</strong> ${fileSize.toFixed(2)} KB | <strong>Dimensions:</strong> ${originalImage.width} × ${originalImage.height} | <strong>Reduced by:</strong> ${compressionRatio}%`;
                    
                    // Enable download button
                    downloadBtn.disabled = false;
                    
                    // Hide progress bar
                    setTimeout(() => {
                        progressContainer.style.display = 'none';
                    }, 500);
                }
            }, 100);
        }

        function calculateFileSize(dataUrl) {
            // Calculate approximate file size from data URL
            const head = 'data:image/jpeg;base64,';
            const fileSize = (dataUrl.length - head.length) * 0.75; // Base64 encoding overhead
            return fileSize / 1024; // Convert to KB
        }

        function downloadImage() {
            if (!compressedImageUrl) return;
            
            const link = document.createElement('a');
            link.download = `compressed-image.${outputFormat.value === 'original' ? 'jpg' : outputFormat.value}`;
            link.href = compressedImageUrl;
            link.click();
        }

        function toggleMobileMenu() {
            navMenu.classList.toggle('active');
        }

        // Initialize
        updateCompressionValue();
    </script>
</body>
</html>
